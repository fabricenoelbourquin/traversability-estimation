metrics:
  names:
    - speed_error_abs
    - joint_travel_rate_L1
    - joint_travel_cum_L1
    - torque_L1_rate
    - power_mech
    - power_mech_signed
    - energy_pos_cum
#    - cot_running
  cumulative:
    - joint_travel_cum_L1
    - energy_pos_cum
#    - cot_running
  separate_output: true 
params:
  max_speed_mps: 1

# Parameters for the local-plane-fitting DEM slope calculation
dem_slope_params:
  # Size of the square patch to fit the plane (e.g., 5 -> 5x5 pixels).
  # MUST be an odd number.
  patch_size_pixels: 9

  # Method for weighting pixels in the least-squares fit.
  # "uniform": All pixels in the patch are weighted equally.
  # "gaussian": Pixels closer to the center are weighted more.
  weighting_method: "gaussian"

  # Standard deviation (in pixels) for the Gaussian weight kernel.
  # Only used if weighting_method is "gaussian".
  # A good starting value is (patch_size_pixels / 4).
  weighting_sigma_pixels: 2.25

filters:
  # leave default as pass-through so only explicitly listed signals are smoothed
  default:
    type: none

  speed_error_abs:
    - type: moving_median  # suppress single-frame spikes
      window: 5
    - type: moving_average # smooth residual jitter
      window: 35

  speed_tracking_score:
    type: moving_average
    window: 25

  joint_travel_rate_L1:
    - type: moving_median
      window: 5
    - type: moving_average
      window: 35

  torque_L1_rate:
    - type: moving_median
      window: 7
    - type: moving_average
      window: 45
  
  power_mech:
    - type: moving_median
      window: 5
    - type: moving_average
      window: 25
  
  power_mech_signed:
    - type: moving_median
      window: 5
    - type: moving_average
      window: 25

robot:
  mass_kg: 30.0      
  gravity: 9.81
